@inherits LayoutComponentBase
@using Microsoft.AspNetCore.Components.Authorization

<CascadingAuthenticationState>
    <AuthorizeView>
        <Authorized>
            <div class="main-layout">
                <nav class="nav-sidebar">
                    <NavMenu />
                </nav>
                <main class="main-content">
                    <div class="top-bar">
                        <div class="logo">PhysicallyFit PT</div>
                        <div>
                            Welcome, @context.User.Identity?.Name 
                            <a href="/logout" class="btn btn-secondary" style="margin-left: 1rem;">Logout</a>
                        </div>
                    </div>
                    @Body
                </main>
            </div>
        </Authorized>
        <NotAuthorized>
            @Body
        </NotAuthorized>
    </AuthorizeView>
</CascadingAuthenticationState>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">ðŸ—™</a>
</div>
